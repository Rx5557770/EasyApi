{% extends 'auth/base.html' %}

{% block title %}注册{% endblock %}
{% block bodytitle %}创建新账户{% endblock %}


{% block formbody %}
<!-- 注册表单 -->
<form action="{% url 'auth:register' %}" method="post" class="formbody space-y-4" onsubmit="return validateForm()">
    {% csrf_token %}

    {% if form.errors %}
    <div class="bg-red-500/10 border border-red-500/30 text-red-400 p-3 rounded-lg text-sm">
        {% for field, errors in form.errors.items %}
            {% for error in errors %}
                <p class="flex items-center"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"/></svg>{{ error }}</p>
            {% endfor %}
        {% endfor %}
    </div>
    {% endif %}

    {% for field in form %}
    <div class="mb-4">
        <label for="{{ field.id_for_label }}" class="block text-gray-300 mb-2 text-sm font-medium">{{ field.label }}</label>
        {% if field.field.widget.input_type == 'password' %}
            <input type="password" id="{{ field.id_for_label }}" name="{{ field.name }}" class="form-input w-full px-4 py-2.5 rounded-lg bg-[#252636] border border-gray-700 text-white placeholder-gray-500 focus:border-[#7927F5] transition-all" required>
        {% else %}
            <input type="text" id="{{ field.id_for_label }}" name="{{ field.name }}" class="form-input w-full px-4 py-2.5 rounded-lg bg-[#252636] border border-gray-700 text-white placeholder-gray-500 focus:border-[#7927F5] transition-all" required>
        {% endif %}
    </div>
    {% endfor %}

    <!-- 注册按钮 -->
    <button 
        type="submit" 
        class="btn-auth w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-[#7927F5] to-[#9c60f8] text-white font-bold text-base shadow-lg hover:shadow-xl"
    >
        注册
    </button>
    
    <!-- 登录链接 -->
    <div class="mt-6 text-center">
        <p class="text-gray-400 text-sm">
            已有账号？
            <a href="{% url 'auth:login' %}" class="text-[#7927F5] hover:text-[#9c60f8] font-medium transition-colors">
                立即登录
            </a>
        </p>
    </div>
</form>
{% endblock %}